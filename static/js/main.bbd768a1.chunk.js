(this["webpackJsonpprime-global-digital"]=this["webpackJsonpprime-global-digital"]||[]).push([[0],{102:function(e,a,t){},103:function(e,a,t){},162:function(e,a){},165:function(e,a,t){"use strict";t.r(a);var c=t(0),r=t.n(c),n=t(20),s=t.n(n),i=(t(102),t(103),t(104),t(56)),o=t(88),u=t.n(o),l=t(189),h=t(187),d=t(188),j=t(13),f=t(19),p=t.n(f),b=t(33),O=t.n(b),m="https://my-json-server.typicode.com/adityaok0/mock-json-server/";var S=t(185),y=t(186),g=t(2),x=Object(S.a)((function(e){return{root:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}}}));function R(){var e=x();return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)(y.a,{})})}function E(){var e=Object(j.b)(),a=Object(j.c)((function(e){return e.SearchDataReducer.searchResult}));return Object(c.useEffect)((function(){e((function(e,a){p.a.get(m+"planets",{params:a().SearchDataReducer.searchQuery,paramsSerializer:function(e){return O.a.stringify(e,{indices:!1})}}).then((function(a){e({type:"SET_FILTERED_RESULTS",payload:{data:a.data}})}))}))}),[]),null===a?Object(g.jsx)(R,{}):Object(g.jsx)(h.a,{className:"FilteredResults",children:Object(g.jsxs)(d.a,{className:"px-5",children:[Object(g.jsx)("h3",{className:"result mb-5 mt-3 mt-md-0",children:"Results"}),a.map((function(e,a){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{className:"planet-name",children:e.name}),Object(g.jsx)("p",{})]},"result".concat(a))}))]})})}var v=t(27),D=t(7),T=t(190),Q=t(191);function _(){var e=Object(j.c)((function(e){return e.SearchDataReducer.filterData})),a=Object(j.c)((function(e){return e.SearchDataReducer.searchQuery})),t=Object(j.b)(),r=Object(c.useState)(null),n=Object(i.a)(r,2),s=n[0],o=n[1];Object(c.useEffect)((function(){var e={shape:[],color:[],size:[]};t((function(e){return new Promise((function(a,t){Promise.all([p.a.get(m+"planets"),p.a.get(m+"shapes"),p.a.get(m+"colors"),p.a.get(m+"sizes")]).then((function(t){return a(t),e({type:"SET_FILTER_DATA",payload:{res:t}})}))}))})).then((function(t){t[1].data.forEach((function(t){e.shape.push({checked:!!a.shape.includes(t.id)})})),t[2].data.forEach((function(t){e.color.push({checked:!!a.color.includes(t.id)})})),t[3].data.forEach((function(t){e.size.push({checked:!!a.size.includes(t.id)})})),o(e)}))}),[]);var u=function(e,a){var c=Object(v.a)({},s);c[e][a].checked=!c[e][a].checked,o(c),t(function(e,a){return function(t,c){var r=c().SearchDataReducer.searchQuery;0===r[e].filter((function(t){return t===c().SearchDataReducer.filterData[e][a].id})).length?(r[e].push(c().SearchDataReducer.filterData[e][a].id),console.log(r)):(r[e]=r[e].filter((function(t){return t!==c().SearchDataReducer.filterData[e][a].id})),console.log(r)),t({type:"SET_PARAMS",payload:{searchQuery:r}}),p.a.get(m+"planets",{params:c().SearchDataReducer.searchQuery,paramsSerializer:function(e){return O.a.stringify(e,{indices:!1})}}).then((function(e){t({type:"SET_FILTERED_RESULTS",payload:{data:e.data}})}))}}(e,a))},l=Object(D.a)({root:{color:"#6269a8","&$checked":{color:"#6269a8"}},checked:{}})((function(e){return Object(g.jsx)(T.a,Object(v.a)({color:"default"},e))}));return null===e||null===s?Object(g.jsx)(R,{}):Object(g.jsx)(h.a,{className:"SideBar",children:Object(g.jsxs)(d.a,{className:"px-5",children:[Object(g.jsxs)("div",{className:"color-filter",children:[Object(g.jsx)("h6",{className:"filterHeading",children:"Color"}),e.color.map((function(e,a){return Object(g.jsx)(Q.a,{control:Object(g.jsx)(l,{checked:s.color[a].checked,onChange:function(){return u("color",a)},name:e.name}),label:e.name},"color".concat(a))}))]}),Object(g.jsxs)("div",{className:"shape-filter mt-3",children:[Object(g.jsx)("h6",{className:"filterHeading",children:"Shape"}),e.shape.map((function(e,a){return Object(g.jsx)(Q.a,{control:Object(g.jsx)(l,{checked:s.shape[a].checked,onChange:function(){return u("shape",a)},name:e.name}),label:e.name},"shape".concat(a))}))]}),Object(g.jsxs)("div",{className:"size-filter mt-3",children:[Object(g.jsx)("h6",{className:"filterHeading",children:"Size"}),e.size.map((function(e,a){return Object(g.jsx)(Q.a,{control:Object(g.jsx)(l,{checked:s.size[a].checked,onChange:function(){return u("size",a)},name:e.name}),label:e.name},"size".concat(a))}))]})]})})}function k(){return Object(g.jsxs)(h.a,{className:"pb-5",children:[Object(g.jsx)(d.a,{lg:4,md:5,children:Object(g.jsx)(_,{})}),Object(g.jsx)(d.a,{lg:8,md:7,children:Object(g.jsx)(E,{})})]})}function z(){var e=Object(j.b)(),a=function(){e((function(e,a){var t=a().SearchDataReducer.searchQuery;delete t.q,e({type:"SET_PARAMS",payload:{searchQuery:t}}),p.a.get(m+"planets",{params:a().SearchDataReducer.searchQuery,paramsSerializer:function(e){return O.a.stringify(e,{indices:!1})}}).then((function(a){e({type:"SET_FILTERED_RESULTS",payload:{data:a.data}})}))}))},t=Object(j.c)((function(e){return e.SearchDataReducer.searchQuery}));Object(c.useEffect)((function(){o(t.q)}),[]);var r=Object(c.useState)(""),n=Object(i.a)(r,2),s=n[0],o=n[1];return Object(g.jsxs)(l.a,{className:"SearchPage",children:[Object(g.jsx)(h.a,{className:"justify-content-center pt-3 pb-5",children:Object(g.jsx)(d.a,{lg:6,children:Object(g.jsx)(u.a,{value:s,onChange:function(e){return o(e)},onRequestSearch:function(){var a;e((a=s,function(e,t){var c=t().SearchDataReducer.searchQuery;c.q=a,e({type:"SET_PARAMS",payload:{searchQuery:c}}),p.a.get(m+"planets",{params:t().SearchDataReducer.searchQuery,paramsSerializer:function(e){return O.a.stringify(e,{indices:!1})}}).then((function(a){e({type:"SET_FILTERED_RESULTS",payload:{data:a.data}})}))}))},onCancelSearch:function(){o(""),a()},placeholder:"Search",autoFocus:!0})})}),Object(g.jsx)(k,{})]})}var N=function(){return Object(g.jsx)("div",{className:"App py-5",children:Object(g.jsx)(z,{})})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,192)).then((function(a){var t=a.getCLS,c=a.getFID,r=a.getFCP,n=a.getLCP,s=a.getTTFB;t(e),c(e),r(e),n(e),s(e)}))},A=t(43),F=t(94),I=t(33),C=I.parse(sessionStorage.getItem("searchQuery"));["color","size","shape","q"].forEach((function(e){e in C||(C[e]=[])}));var P={filterData:null,searchResult:[],searchQuery:null===sessionStorage.getItem("searchQuery")?{color:[],shape:[],size:[],q:""}:C},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FILTER_DATA":var t=Object(v.a)({},e);return t.filterData={planets:a.payload.res[0].data,shape:a.payload.res[1].data,color:a.payload.res[2].data,size:a.payload.res[3].data},t;case"SET_PARAMS":var c=Object(v.a)({},e);return sessionStorage.setItem("searchQuery",I.stringify(a.payload.searchQuery)),c.searchQuery=a.payload.searchQuery,c;case"SET_FILTERED_RESULTS":var r=Object(v.a)({},e);return r.searchResult=a.payload.data,r;default:return e}},M=Object(A.b)({SearchDataReducer:q});s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(j.a,{store:Object(A.c)(M,Object(A.a)(F.a)),children:Object(g.jsx)(N,{})})}),document.getElementById("root")),L()}},[[165,1,2]]]);
//# sourceMappingURL=main.bbd768a1.chunk.js.map