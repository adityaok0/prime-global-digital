(this["webpackJsonpprime-global-digital"]=this["webpackJsonpprime-global-digital"]||[]).push([[0],{104:function(e,a,t){},105:function(e,a,t){},165:function(e,a){},168:function(e,a,t){"use strict";t.r(a);var c=t(0),r=t.n(c),n=t(20),s=t.n(n),i=(t(104),t(105),t(106),t(68)),o=t.n(i),u=t(89),l=t(56),h=t(90),d=t.n(h),j=t(192),f=t(190),p=t(191),b=t(13),O=t(19),m=t.n(O),S=t(33),y=t.n(S),g="http://localhost:3000/";var x=t(188),R=t(189),E=t(2),v=Object(x.a)((function(e){return{root:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}}}));function D(){var e=v();return Object(E.jsx)("div",{className:e.root,children:Object(E.jsx)(R.a,{})})}function T(){var e=Object(b.b)(),a=Object(b.c)((function(e){return e.SearchDataReducer.searchResult}));return Object(c.useEffect)((function(){e((function(e,a){m.a.get(g+"planets",{params:a().SearchDataReducer.searchQuery,paramsSerializer:function(e){return y.a.stringify(e,{indices:!1})}}).then((function(a){e({type:"SET_FILTERED_RESULTS",payload:{data:a.data}})}))}))}),[]),null===a?Object(E.jsx)(D,{}):Object(E.jsx)(f.a,{className:"FilteredResults",children:Object(E.jsxs)(p.a,{className:"px-5",children:[Object(E.jsx)("h3",{className:"result mb-5 mt-3 mt-md-0",children:"Results"}),a.map((function(e,a){return Object(E.jsxs)("div",{children:[Object(E.jsx)("h4",{className:"planet-name",children:e.name}),Object(E.jsx)("p",{})]},"result".concat(a))}))]})})}var Q=t(27),_=t(7),z=t(193),N=t(194);function k(){var e=Object(b.c)((function(e){return e.SearchDataReducer.filterData})),a=Object(b.c)((function(e){return e.SearchDataReducer.searchQuery})),t=Object(b.b)(),r=Object(c.useState)(null),n=Object(l.a)(r,2),s=n[0],i=n[1];Object(c.useEffect)((function(){var e={shape:[],color:[],size:[]};t((function(e){return new Promise((function(a,t){Promise.all([m.a.get(g+"planets"),m.a.get(g+"shapes"),m.a.get(g+"colors"),m.a.get(g+"sizes")]).then((function(t){return a(t),e({type:"SET_FILTER_DATA",payload:{res:t}})}))}))})).then((function(t){t[1].data.forEach((function(t){e.shape.push({checked:!!a.shape.includes(t.id)})})),t[2].data.forEach((function(t){e.color.push({checked:!!a.color.includes(t.id)})})),t[3].data.forEach((function(t){e.size.push({checked:!!a.size.includes(t.id)})})),i(e)}))}),[]);var o=function(e,a){var c=Object(Q.a)({},s);c[e][a].checked=!c[e][a].checked,i(c),t(function(e,a){return function(t,c){var r=c().SearchDataReducer.searchQuery;0===r[e].filter((function(t){return t===c().SearchDataReducer.filterData[e][a].id})).length?(r[e].push(c().SearchDataReducer.filterData[e][a].id),console.log(r)):(r[e]=r[e].filter((function(t){return t!==c().SearchDataReducer.filterData[e][a].id})),console.log(r)),t({type:"SET_PARAMS",payload:{searchQuery:r}}),m.a.get(g+"planets",{params:c().SearchDataReducer.searchQuery,paramsSerializer:function(e){return y.a.stringify(e,{indices:!1})}}).then((function(e){t({type:"SET_FILTERED_RESULTS",payload:{data:e.data}})}))}}(e,a))},u=Object(_.a)({root:{color:"#6269a8","&$checked":{color:"#6269a8"}},checked:{}})((function(e){return Object(E.jsx)(z.a,Object(Q.a)({color:"default"},e))}));return null===e||null===s?Object(E.jsx)(D,{}):Object(E.jsx)(f.a,{className:"SideBar",children:Object(E.jsxs)(p.a,{className:"px-5",children:[Object(E.jsxs)("div",{className:"color-filter",children:[Object(E.jsx)("h6",{className:"filterHeading",children:"Color"}),e.color.map((function(e,a){return Object(E.jsx)(N.a,{control:Object(E.jsx)(u,{checked:s.color[a].checked,onChange:function(){return o("color",a)},name:e.name}),label:e.name},"color".concat(a))}))]}),Object(E.jsxs)("div",{className:"shape-filter mt-3",children:[Object(E.jsx)("h6",{className:"filterHeading",children:"Shape"}),e.shape.map((function(e,a){return Object(E.jsx)(N.a,{control:Object(E.jsx)(u,{checked:s.shape[a].checked,onChange:function(){return o("shape",a)},name:e.name}),label:e.name},"shape".concat(a))}))]}),Object(E.jsxs)("div",{className:"size-filter mt-3",children:[Object(E.jsx)("h6",{className:"filterHeading",children:"Size"}),e.size.map((function(e,a){return Object(E.jsx)(N.a,{control:Object(E.jsx)(u,{checked:s.size[a].checked,onChange:function(){return o("size",a)},name:e.name}),label:e.name},"size".concat(a))}))]})]})})}function L(){return Object(E.jsxs)(f.a,{className:"pb-5",children:[Object(E.jsx)(p.a,{lg:4,md:5,children:Object(E.jsx)(k,{})}),Object(E.jsx)(p.a,{lg:8,md:7,children:Object(E.jsx)(T,{})})]})}function A(){var e=Object(b.b)(),a=function(){e((function(e,a){var t=a().SearchDataReducer.searchQuery;delete t.q,e({type:"SET_PARAMS",payload:{searchQuery:t}}),m.a.get(g+"planets",{params:a().SearchDataReducer.searchQuery,paramsSerializer:function(e){return y.a.stringify(e,{indices:!1})}}).then((function(a){e({type:"SET_FILTERED_RESULTS",payload:{data:a.data}})}))}))},t=Object(b.c)((function(e){return e.SearchDataReducer.searchQuery}));Object(c.useEffect)((function(){i(t.q)}),[]);var r=Object(c.useState)(""),n=Object(l.a)(r,2),s=n[0],i=n[1];return Object(E.jsxs)(j.a,{className:"SearchPage",children:[Object(E.jsx)(f.a,{className:"justify-content-center pt-3 pb-5",children:Object(E.jsx)(p.a,{lg:6,children:Object(E.jsx)(d.a,{value:s,onChange:function(e){return i(e)},onRequestSearch:function(){var a;e((a=s,function(e,t){var c=t().SearchDataReducer.searchQuery;c.q=a,e({type:"SET_PARAMS",payload:{searchQuery:c}}),m.a.get(g+"planets",{params:t().SearchDataReducer.searchQuery,paramsSerializer:function(e){return y.a.stringify(e,{indices:!1})}}).then((function(a){e({type:"SET_FILTERED_RESULTS",payload:{data:a.data}})}))}))},onCancelSearch:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i("");case 2:a();case 3:case"end":return e.stop()}}),e)}))),placeholder:"Search",autoFocus:!0})})}),Object(E.jsx)(L,{})]})}var F=function(){return Object(E.jsx)("div",{className:"App py-5",children:Object(E.jsx)(A,{})})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,195)).then((function(a){var t=a.getCLS,c=a.getFID,r=a.getFCP,n=a.getLCP,s=a.getTTFB;t(e),c(e),r(e),n(e),s(e)}))},C=t(43),P=t(96),q=t(33),w=q.parse(sessionStorage.getItem("searchQuery"));["color","size","shape","q"].forEach((function(e){e in w||(w[e]=[])}));var M={filterData:null,searchResult:[],searchQuery:null===sessionStorage.getItem("searchQuery")?{color:[],shape:[],size:[],q:[]}:w},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FILTER_DATA":var t=Object(Q.a)({},e);return t.filterData={planets:a.payload.res[0].data,shape:a.payload.res[1].data,color:a.payload.res[2].data,size:a.payload.res[3].data},t;case"SET_PARAMS":var c=Object(Q.a)({},e);return sessionStorage.setItem("searchQuery",q.stringify(a.payload.searchQuery)),c.searchQuery=a.payload.searchQuery,c;case"SET_FILTERED_RESULTS":var r=Object(Q.a)({},e);return r.searchResult=a.payload.data,r;default:return e}},B=Object(C.b)({SearchDataReducer:U});s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(b.a,{store:Object(C.c)(B,Object(C.a)(P.a)),children:Object(E.jsx)(F,{})})}),document.getElementById("root")),I()}},[[168,1,2]]]);
//# sourceMappingURL=main.0c74bef5.chunk.js.map